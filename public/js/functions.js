import{appointmentObj,editing}from"./variables.js";import{Notification}from"./classes/Notification.js";import{AdminAppointments}from"./classes/AdminAppointments.js";import{formAppointment,formBtn,inputPatientName,inputOwnerName,inputContactEmail,inputRegistrationDate,inputSymptoms}from"./selectors.js";const appointments=new AdminAppointments;export function appointmentData(t){t.preventDefault(),appointmentObj[t.target.name]=t.target.value}export function sendAppointment(t){if(t.preventDefault(),Object.values(appointmentObj).some(t=>""===t.trim()))new Notification({message:"Todos los campos son obligatorios",type:"error"});else{if(editing.value){const t=dataBase.transaction(["appointments"],"readwrite");t.objectStore("appointments").put(appointmentObj);t.oncomplete=()=>{appointments.editAppointment({...appointmentObj}),new Notification({message:"Cita editada correctamente",type:"success"})}}else{const t=dataBase.transaction(["appointments"],"readwrite");t.objectStore("appointments").add(appointmentObj);t.oncomplete=()=>{appointments.addAppointment({...appointmentObj}),new Notification({message:"Cita agregada correctamente",type:"success"})},t.onerror=()=>{new Notification({message:"Error al agregar la cita",type:"error"})}}formAppointment.reset(),resetAppointmentObj(),formBtn.value="Registrar paciente",editing.value=!1}}export function resetAppointmentObj(){Object.assign(appointmentObj,{id:generateId(),patient_name:"",owner_name:"",contact_email:"",registration_date:"",symptoms:""})}export function generateId(){return Math.random().toString(36).substring(2)+Date.now()}export function loadEdition(t){Object.assign(appointmentObj,t),inputPatientName.value=t.patient_name,inputOwnerName.value=t.owner_name,inputContactEmail.value=t.contact_email,inputRegistrationDate.value=t.registration_date,inputSymptoms.value=t.symptoms,editing.value=!0,formBtn.value="Guardar cambios"}export let dataBase;export function createDB(){const t=window.indexedDB.open("appointments",1);t.onerror=()=>{console.error("Error al crear la base de datos")},t.onsuccess=()=>{dataBase=t.result,appointments.showAppointments()},t.onupgradeneeded=t=>{const e=t.target.result.createObjectStore("appointments",{keyPath:"id",autoIncrement:!0});e.createIndex("patient_name","patient_name",{unique:!1}),e.createIndex("owner_name","owner_name",{unique:!1}),e.createIndex("contact_email","contact_email",{unique:!1}),e.createIndex("registration_date","registration_date",{unique:!1}),e.createIndex("symptoms","symptoms",{unique:!1}),e.createIndex("id","id",{unique:!0})}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bmN0aW9ucy5qcyJdLCJuYW1lcyI6WyJhcHBvaW50bWVudE9iaiIsImVkaXRpbmciLCJOb3RpZmljYXRpb24iLCJBZG1pbkFwcG9pbnRtZW50cyIsImZvcm1BcHBvaW50bWVudCIsImZvcm1CdG4iLCJpbnB1dFBhdGllbnROYW1lIiwiaW5wdXRPd25lck5hbWUiLCJpbnB1dENvbnRhY3RFbWFpbCIsImlucHV0UmVnaXN0cmF0aW9uRGF0ZSIsImlucHV0U3ltcHRvbXMiLCJhcHBvaW50bWVudHMiLCJhcHBvaW50bWVudERhdGEiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZW5kQXBwb2ludG1lbnQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb21lIiwidHJpbSIsIm1lc3NhZ2UiLCJ0eXBlIiwidHJhbnNhY3Rpb24iLCJkYXRhQmFzZSIsIm9iamVjdFN0b3JlIiwicHV0Iiwib25jb21wbGV0ZSIsImVkaXRBcHBvaW50bWVudCIsImFkZCIsImFkZEFwcG9pbnRtZW50Iiwib25lcnJvciIsInJlc2V0IiwicmVzZXRBcHBvaW50bWVudE9iaiIsImFzc2lnbiIsImlkIiwiZ2VuZXJhdGVJZCIsInBhdGllbnRfbmFtZSIsIm93bmVyX25hbWUiLCJjb250YWN0X2VtYWlsIiwicmVnaXN0cmF0aW9uX2RhdGUiLCJzeW1wdG9tcyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIkRhdGUiLCJub3ciLCJsb2FkRWRpdGlvbiIsImFwcG9pbnRtZW50IiwiY3JlYXRlREIiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwiY29uc29sZSIsImVycm9yIiwib25zdWNjZXNzIiwicmVzdWx0Iiwic2hvd0FwcG9pbnRtZW50cyIsIm9udXBncmFkZW5lZWRlZCIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSJdLCJtYXBwaW5ncyI6Ik9B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IGFwcG9pbnRtZW50T2JqLCBlZGl0aW5nIH0gZnJvbSBcIi4vdmFyaWFibGVzLmpzXCI7XG5pbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tIFwiLi9jbGFzc2VzL05vdGlmaWNhdGlvbi5qc1wiO1xuaW1wb3J0IHsgQWRtaW5BcHBvaW50bWVudHMgfSBmcm9tIFwiLi9jbGFzc2VzL0FkbWluQXBwb2ludG1lbnRzLmpzXCI7XG5pbXBvcnQge1xuICBmb3JtQXBwb2ludG1lbnQsXG4gIGZvcm1CdG4sXG4gIGlucHV0UGF0aWVudE5hbWUsXG4gIGlucHV0T3duZXJOYW1lLFxuICBpbnB1dENvbnRhY3RFbWFpbCxcbiAgaW5wdXRSZWdpc3RyYXRpb25EYXRlLFxuICBpbnB1dFN5bXB0b21zLFxufSBmcm9tIFwiLi9zZWxlY3RvcnMuanNcIjtcblxuLy8gSW5zdGFuY2lhciBsYSBjbGFzZSBBZG1pbkFwcG9pbnRtZW50c1xuY29uc3QgYXBwb2ludG1lbnRzID0gbmV3IEFkbWluQXBwb2ludG1lbnRzKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBvaW50bWVudERhdGEoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgLy8gRXNjcmliaXIgbG9zIGRhdG9zIGluZ3Jlc2Fkb3MgZW4gZWwgb2JqZXRvIGFwcG9pbnRtZW50T2JqXG4gIGFwcG9pbnRtZW50T2JqW2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kQXBwb2ludG1lbnQoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgLy8gVmFsaWRhciBsb3MgZGF0b3MgaW5ncmVzYWRvc1xuXG4gIC8vIFNpIGhheSBhbGfDum4gY2FtcG8gdmFjw61vLCBtb3N0cmFyIHVuIG1lbnNhamUgZGUgZXJyb3IgeSBkZXRlbmVyIGVsIGVudsOtbyBkZWwgZm9ybXVsYXJpb1xuICBpZiAoT2JqZWN0LnZhbHVlcyhhcHBvaW50bWVudE9iaikuc29tZSgodmFsdWUpID0+IHZhbHVlLnRyaW0oKSA9PT0gYGApKSB7XG4gICAgbmV3IE5vdGlmaWNhdGlvbih7XG4gICAgICBtZXNzYWdlOiBgVG9kb3MgbG9zIGNhbXBvcyBzb24gb2JsaWdhdG9yaW9zYCxcbiAgICAgIHR5cGU6IGBlcnJvcmAsXG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTaSBlZGl0aW5nLnZhbHVlIGVzIHZlcmRhZGVybywgZW50cmEgZW4gbW9kbyBlZGljacOzbiwgY2FzbyBjb250cmFyaW8sIGFncmVnYSBsYSBjaXRhIG5vcm1uYWxtZW50ZVxuICBpZiAoZWRpdGluZy52YWx1ZSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGF0YUJhc2UudHJhbnNhY3Rpb24oW2BhcHBvaW50bWVudHNgXSwgYHJlYWR3cml0ZWApO1xuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoYGFwcG9pbnRtZW50c2ApO1xuXG4gICAgLy8gQWN0dWFsaXphciBsYSBjaXRhIGVuIGVsIG9iamVjdFN0b3JlXG4gICAgY29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLnB1dChhcHBvaW50bWVudE9iaik7XG5cbiAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgLy8gRWRpdGFyIGxhIGNpdGEgZW4gZWwgYXJyYXkgZGUgY2l0YXNcbiAgICAgIGFwcG9pbnRtZW50cy5lZGl0QXBwb2ludG1lbnQoeyAuLi5hcHBvaW50bWVudE9iaiB9KTtcblxuICAgICAgLy8gTW9zdHJhciB1biBtZW5zYWplIGRlIMOpeGl0b1xuICAgICAgbmV3IE5vdGlmaWNhdGlvbih7XG4gICAgICAgIG1lc3NhZ2U6IGBDaXRhIGVkaXRhZGEgY29ycmVjdGFtZW50ZWAsXG4gICAgICAgIHR5cGU6IGBzdWNjZXNzYCxcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gR3VhcmRhciBsb3MgZGF0b3MgZW4gSW5kZXhlZERCIHBhcmEgcGVyc2lzdGVuY2lhXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYXRhQmFzZS50cmFuc2FjdGlvbihbYGFwcG9pbnRtZW50c2BdLCBgcmVhZHdyaXRlYCk7XG4gICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShgYXBwb2ludG1lbnRzYCk7XG5cbiAgICAvLyBBZ3JlZ2FyIGxhIGNpdGEgYWwgb2JqZWN0U3RvcmVcbiAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuYWRkKGFwcG9pbnRtZW50T2JqKTtcblxuICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAvLyBFbnZpYXIgbG9zIGRhdG9zIGFsIGFkbWluaXN0cmFkb3JcbiAgICAgIGFwcG9pbnRtZW50cy5hZGRBcHBvaW50bWVudCh7IC4uLmFwcG9pbnRtZW50T2JqIH0pO1xuXG4gICAgICAvLyBNb3N0cmFyIHVuIG1lbnNhamUgZGUgw6l4aXRvXG4gICAgICBuZXcgTm90aWZpY2F0aW9uKHtcbiAgICAgICAgbWVzc2FnZTogYENpdGEgYWdyZWdhZGEgY29ycmVjdGFtZW50ZWAsXG4gICAgICAgIHR5cGU6IGBzdWNjZXNzYCxcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgLy8gTW9zdHJhciB1biBtZW5zYWplIGRlIGVycm9yIGVuIGNhc28gZGUgdW4gZXJyb3IgZW4gSW5kZXhlZERCXG4gICAgICBuZXcgTm90aWZpY2F0aW9uKHtcbiAgICAgICAgbWVzc2FnZTogYEVycm9yIGFsIGFncmVnYXIgbGEgY2l0YWAsXG4gICAgICAgIHR5cGU6IGBlcnJvcmAsXG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmVzZXRlYXIgZWwgZm9ybXVsYXJpbyB5IGVsIG9iamV0b1xuICBmb3JtQXBwb2ludG1lbnQucmVzZXQoKTtcbiAgcmVzZXRBcHBvaW50bWVudE9iaigpO1xuICBmb3JtQnRuLnZhbHVlID0gYFJlZ2lzdHJhciBwYWNpZW50ZWA7XG4gIGVkaXRpbmcudmFsdWUgPSBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0QXBwb2ludG1lbnRPYmooKSB7XG4gIC8vIFJlc2V0ZWFyIGVsIG9iamV0byBhcHBvaW50bWVudE9iaiBwYXJhIHF1ZSBubyBjb250ZW5nYSBkYXRvcyBkZSB1bmEgY2l0YSBhbnRlcmlvclxuICBPYmplY3QuYXNzaWduKGFwcG9pbnRtZW50T2JqLCB7XG4gICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICBwYXRpZW50X25hbWU6IGBgLFxuICAgIG93bmVyX25hbWU6IGBgLFxuICAgIGNvbnRhY3RfZW1haWw6IGBgLFxuICAgIHJlZ2lzdHJhdGlvbl9kYXRlOiBgYCxcbiAgICBzeW1wdG9tczogYGAsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJZCgpIHtcbiAgLy8gR2VuZXJhciB1biBJRCDDum5pY28gcGFyYSBjYWRhIGNpdGEuXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMikgKyBEYXRlLm5vdygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVkaXRpb24oYXBwb2ludG1lbnQpIHtcbiAgLy8gQ2FyZ2FyIGxvcyBkYXRvcyBkZSBsYSBjaXRhIGVuIGVsIG9iamV0byBhcHBvaW50bWVudE9iaiBwYXJhIHF1ZSBwdWVkYSBzZXIgZWRpdGFkb1xuICBPYmplY3QuYXNzaWduKGFwcG9pbnRtZW50T2JqLCBhcHBvaW50bWVudCk7XG5cbiAgLy8gQ2FyZ2FyIGxvcyBkYXRvcyBkZSBsYSBjaXRhIGVuIGxvcyBpbnB1dHNcbiAgaW5wdXRQYXRpZW50TmFtZS52YWx1ZSA9IGFwcG9pbnRtZW50LnBhdGllbnRfbmFtZTtcbiAgaW5wdXRPd25lck5hbWUudmFsdWUgPSBhcHBvaW50bWVudC5vd25lcl9uYW1lO1xuICBpbnB1dENvbnRhY3RFbWFpbC52YWx1ZSA9IGFwcG9pbnRtZW50LmNvbnRhY3RfZW1haWw7XG4gIGlucHV0UmVnaXN0cmF0aW9uRGF0ZS52YWx1ZSA9IGFwcG9pbnRtZW50LnJlZ2lzdHJhdGlvbl9kYXRlO1xuICBpbnB1dFN5bXB0b21zLnZhbHVlID0gYXBwb2ludG1lbnQuc3ltcHRvbXM7XG5cbiAgZWRpdGluZy52YWx1ZSA9IHRydWU7XG5cbiAgZm9ybUJ0bi52YWx1ZSA9IGBHdWFyZGFyIGNhbWJpb3NgO1xufVxuXG4vKiBCYXNlIGRlIGRhdG9zICovXG5leHBvcnQgbGV0IGRhdGFCYXNlO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURCKCkge1xuICAvLyBDcmVhciBsYSBiYXNlIGRlIGRhdG9zIGVuIEluZGV4ZWREQlxuICBjb25zdCBjcmVhdGVEQiA9IHdpbmRvdy5pbmRleGVkREIub3BlbihgYXBwb2ludG1lbnRzYCwgMS4wKTtcblxuICAvLyBTaSBleGlzdGVuIGVycm9yZXNcbiAgY3JlYXRlREIub25lcnJvciA9ICgpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBjcmVhciBsYSBiYXNlIGRlIGRhdG9zYCk7XG4gIH07XG5cbiAgLy8gU2kgc2FsZSBiaWVuXG4gIGNyZWF0ZURCLm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgQmFzZSBkZSBkYXRvcyBjcmVhZGEgZXhpdG9zYW1lbnRlYCk7XG5cbiAgICAvLyBPYnRlbmVyIGxhIGJhc2UgZGUgZGF0b3NcbiAgICBkYXRhQmFzZSA9IGNyZWF0ZURCLnJlc3VsdDtcblxuICAgIC8vIENhcmdhciBsYXMgY2l0YXMgZGVzZGUgSW5kZXhlZERCXG4gICAgYXBwb2ludG1lbnRzLnNob3dBcHBvaW50bWVudHMoKTtcbiAgfTtcblxuICAvLyBEZWZpbmlyIGVsIHNjaGVtYVxuICBjcmVhdGVEQi5vbnVwZ3JhZGVuZWVkZWQgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgLy8gQ3JlYXIgZWwgb2JqZXRvIHN0b3JlIHBhcmEgbGFzIGNpdGFzIGVuIEluZGV4ZWREQlxuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoYGFwcG9pbnRtZW50c2AsIHtcbiAgICAgIGtleVBhdGg6IGBpZGAsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXIgbGFzIGNvbHVtbmFzXG4gICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoYHBhdGllbnRfbmFtZWAsIGBwYXRpZW50X25hbWVgLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoYG93bmVyX25hbWVgLCBgb3duZXJfbmFtZWAsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgY29udGFjdF9lbWFpbGAsIGBjb250YWN0X2VtYWlsYCwge1xuICAgICAgdW5pcXVlOiBmYWxzZSxcbiAgICB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgcmVnaXN0cmF0aW9uX2RhdGVgLCBgcmVnaXN0cmF0aW9uX2RhdGVgLCB7XG4gICAgICB1bmlxdWU6IGZhbHNlLFxuICAgIH0pO1xuICAgIG9iamVjdFN0b3JlLmNyZWF0ZUluZGV4KGBzeW1wdG9tc2AsIGBzeW1wdG9tc2AsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgaWRgLCBgaWRgLCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblxuICAgIC8vIGNvbnNvbGUubG9nKGBTY2hlbWEgZGUgbGEgYmFzZSBkZSBkYXRvcyBjcmVhZG8gZXhpdG9zYW1lbnRlYCk7XG4gIH07XG59XG4iXX0=
